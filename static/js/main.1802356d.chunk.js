(this.webpackJsonp211119=this.webpackJsonp211119||[]).push([[0],{408:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(53),i=a.n(r),s=a(16),o=a(51),l=a(10),j=a(178),b=a(41),d=a(18),u=a(78),O=a(475),p=a(473),h=a(478),x=a(479),f=a(476),m=a(463),v=a(477),g=a(481),w=a(480),y=a(258),k=a.n(y),S=a(260),N=a.n(S),C=a(259),I=a.n(C),F=a(468),D=a(482),U=a(483),P=a(261),z=a(138),A=a(2),_=a.n(A),E=a(6),L=a(79),R=a(246),M=a(121),T=a(57),K=a(132);Object(R.a)({apiKey:"AIzaSyATYt35PgAw8iktcDhDxC87mJpD4e1eTQo",authDomain:"ppks00.firebaseapp.com",projectId:"ppks00",storageBucket:"ppks00.appspot.com",messagingSenderId:"864457834909",appId:"1:864457834909:web:b22ac907d1427db9d22f74"});var V=Object(M.c)(),q=new M.b,B=new M.a,G=Object(T.e)(),J=Object(K.b)(),W=a(465),X=a(474),H=a(5),Y=function(e){var t=e.newAccount,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),j=l[0],b=l[1],d=Object(n.useState)(""),u=Object(s.a)(d,2),p=u[0],h=u[1],x=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?i(n):"password"===a&&b(n)},f=function(){var e=Object(E.a)(_.a.mark((function e(a){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!t){e.next=8;break}return e.next=5,Object(L.c)(V,r,j);case 5:e.sent,e.next=11;break;case 8:return e.next=10,Object(L.e)(V,r,j);case 10:e.sent;case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),n="","auth/weak-password"===e.t0.code?n="\ube44\ubc00\ubc88\ud638\ub294 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.":"auth/email-already-in-use"===e.t0.code?n="\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4.":"auth/user-not-found"===e.t0.code?n="\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacc4\uc815 \uc815\ubcf4\uc785\ub2c8\ub2e4.":"auth/wrong-password"===e.t0.code?n="\uc62c\ubc14\ub978 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.":"auth/invalid-email"===e.t0.code?n="\uc62c\ubc14\ub978 \uc774\uba54\uc744\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.":"auth/internal-error"===e.t0.code&&(n="\uc62c\ubc14\ub978 \uc774\uba54\uc744\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),h(n);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(O.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},onSubmit:f,className:"auth-form",children:[Object(H.jsxs)("div",{className:"auth-Input",children:[Object(H.jsx)(W.a,{id:"outlined-basic",label:"Email",variant:"outlined",name:"email",type:"email",required:!0,value:r,onChange:x,className:"auth-input-inner"}),Object(H.jsx)(W.a,{id:"outlined-basic",label:"Password",variant:"outlined",name:"password",type:"password",required:!0,value:j,onChange:x,className:"auth-input-inner"})]}),Object(H.jsx)(X.a,{variant:"contained",disableElevation:!0,type:"submit",className:"auth-Submit",children:t?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"})]}),p&&Object(H.jsx)("span",{className:"auth-error",children:p})]})},Q=a.p+"static/media/intro_img.8a5eef80.png",Z=a(470),$=a(466),ee={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:450,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},te=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),i=Object(s.a)(r,2),l=i[0],j=i[1],b=function(){var e=Object(E.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(a=t.target.name)?n=q:"facebook"===a&&(n=B),e.next=4,Object(M.d)(V,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{children:Object(H.jsx)($.a,{open:l,onClose:function(){return j(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsx)(O.a,{sx:ee,children:Object(H.jsxs)(v.a,{id:"modal-modal-description",children:["\uc6b0\uce21 \ud558\ub2e8 \ubc84\ud2bc \ud074\ub9ad \uc2dc \ud68c\uc6d0\uac00\uc785\uc774 \uac00\ub2a5\ud558\uba70 \ud14c\uc2a4\ud2b8 \uacc4\uc815\uc744 \uc0ac\uc6a9\ud558\uc154\ub3c4 \ub429\ub2c8\ub2e4!",Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),"id : t1@t1.com",Object(H.jsx)("br",{}),"pw : asd123"]})})})}),Object(H.jsxs)("div",{id:"auth-wrap",children:[Object(H.jsx)("img",{src:Q,alt:"",className:"auth-img"}),Object(H.jsxs)("div",{className:"auth-container",children:[Object(H.jsx)(Y,{newAccount:a}),Object(H.jsxs)("div",{className:"auth-social",children:[Object(H.jsx)(X.a,{variant:"outlined",onClick:b,name:"google",className:"auth-social-button",children:"google \ub85c\uadf8\uc778"}),Object(H.jsx)(X.a,{variant:"outlined",onClick:b,name:"facebook",className:"auth-social-button",children:"facebook \ub85c\uadf8\uc778"}),Object(H.jsx)(Z.a,Object(o.a)(Object(o.a)({},{inputProps:{"aria-label":"Switch demo"}}),{},{onClick:function(){c((function(e){return!e}))},className:"auth-toggle"}))]})]})]})]})},ae=a(32),ne=a(265),ce=a(176),re=a(269),ie=a(270),se=a(262),oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,p:4},le=function(e){var t=e.userObj,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),h=p[0],x=p[1],f=Object(n.useState)(""),m=Object(s.a)(f,2),g=m[0],w=m[1],y=Object(n.useState)(""),k=Object(s.a)(y,2),S=k[0],N=k[1],C=Object(n.useState)(""),I=Object(s.a)(C,2),F=I[0],D=I[1],U=Object(n.useState)(""),P=Object(s.a)(U,2),z=P[0],A=P[1],L=Object(n.useState)(""),R=Object(s.a)(L,2),M=R[0],T=R[1],K=Object(n.useState)(""),V=Object(s.a)(K,2),q=V[0],B=V[1],J=function(){x(!1),w(""),T(""),B(""),d(""),N(""),D(""),A("")};Object(n.useEffect)((function(){var e=Object(ae.i)(Object(ae.b)(G,"scheduler"));Object(ae.g)(e,(function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));i(t)}))}),[]);var X=function(){var e=Object(E.a)(_.a.mark((function e(a){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==b){e.next=3;break}return e.abrupt("return",alert("\uc77c\uc815 \uc0c9\uc0c1\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.\n\n\ucd08\ub85d\uc0c9 : \uc644\ub8cc\ub41c \uc77c\uc815\n\ud30c\ub780\uc0c9 : \uc9c4\ud589\uc911\uc778 \uc77c\uc815\n\ube68\uac04\uc0c9 : \uc911\uc9c0\ub41c \uc77c\uc815\n\ud68c\uc0c9 : \uc9c4\ud589 \uc608\uc815 \uc77c\uc815"));case 3:if("new"!==g){e.next=13;break}if(!S){e.next=10;break}return n={title:"".concat(t.displayName," : ").concat(S),start:F,end:z,color:b,creatorId:t.uid,creatorNickName:t.displayName,createdAt:Date.now()},e.next=8,Object(ae.a)(Object(ae.b)(G,"scheduler"),n);case 8:e.next=11;break;case 10:alert("\uc77c\uc815 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.");case 11:e.next=14;break;case 13:"edit"===g&&t.uid===q&&r.map((function(e){M===e.id&&Object(ae.j)(Object(ae.d)(G,"scheduler/".concat(e.id)),{title:"".concat(t.displayName," : ").concat(S),color:b})}));case 14:J();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(E.a)(_.a.mark((function e(a){var n,c,r,i,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.event._def,c=n.title,r=n.publicId,i=a.event._def.extendedProps.creatorId,T(r),B(i),(s=c.split(" : ")).splice(0,1),t.uid===i?(N(s.join(":")),w("edit")):(N(s.join(":")),w("read")),x(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("p",{children:["\u203b \uc77c\uc815 \uc720\ud615 \u203b",Object(H.jsx)("br",{}),"\ucd08\ub85d\uc0c9 : \uc644\ub8cc\ub41c \uc77c\uc815",Object(H.jsx)("br",{}),"\ud30c\ub780\uc0c9 : \uc9c4\ud589\uc911\uc778 \uc77c\uc815",Object(H.jsx)("br",{}),"\ube68\uac04\uc0c9 : \uc911\uc9c0\ub41c \uc77c\uc815",Object(H.jsx)("br",{}),"\ud68c\uc0c9 : \uc9c4\ud589 \uc608\uc815 \uc77c\uc815"]}),Object(H.jsx)("br",{}),Object(H.jsx)(ne.a,{plugins:[ce.b,ie.a,re.a],initialView:"dayGridMonth",headerToolbar:{left:"prev",center:"title",right:"next"},selectable:"true",select:function(e){w("new"),x(!0),D(e.startStr),A(e.endStr)},events:r,eventClick:Y,locale:"ko",views:{dayGrid:{dayMaxEventRows:3}}}),h&&Object(H.jsx)($.a,{open:h,onClose:J,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:"read"===g?Object(H.jsx)(O.a,{sx:oe,children:Object(H.jsx)(v.a,{id:"modal-modal-description",children:S})}):Object(H.jsxs)(O.a,{component:"form",sx:oe,onSubmit:X,children:[Object(H.jsx)(se.a,{colors:["#00de04","#3788d8","#ff0000","#9b9b9b"],onChangeComplete:function(e){d(e.hex)}}),Object(H.jsx)("br",{}),Object(H.jsx)(W.a,{id:"outlined-multiline-static",label:"\uc77c\uc815 \ub0b4\uc6a9",multiline:!0,rows:4,className:"cal-input",value:S,onChange:function(e){var t=e.target.value;N(t)}}),Object(H.jsxs)("div",{className:"cal-submit",children:["new"===g&&Object(H.jsx)("input",{type:"submit",value:"\ub4f1\ub85d"}),"edit"===g&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("input",{type:"submit",value:"\uc218\uc815"}),Object(H.jsx)("button",{onClick:function(e){e.preventDefault(),r.map((function(e){M===e.id&&(window.confirm("\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?(Object(ae.c)(Object(ae.d)(G,"scheduler/".concat(e.id))),J()):J())}))},children:"\uc0ad\uc81c"})]})]})]})})]})},je=function(e){var t=e.userObj,a=e.containerStyle;return Object(H.jsxs)("div",{style:a,children:[Object(H.jsx)("h1",{children:"\uc77c\uc815 \uad00\ub9ac"}),Object(H.jsx)(le,{userObj:t})]})},be=a(472),de=a(464),ue=function(e){var t=e.chatObj,a=e.style,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(!1),p=Object(s.a)(u,2),h=p[0],x=p[1],f=Object(n.useState)(t.message),m=Object(s.a)(f,2),g=m[0],w=m[1],y=Object(n.useState)(""),k=Object(s.a)(y,2),S=k[0],N=k[1],C=function(){x(!1),N(""),o(!1)},I=[{title:"\ub0b4\uc6a9",dataIndex:"message",key:"message",align:"center",ellipsis:!0,render:function(e){return Object(H.jsx)("a",{onClick:function(){F(e)},children:e})}},{title:"\uc0ac\uc9c4",dataIndex:"fileUrl",key:"fileUrl",align:"center",ellipsis:!0,width:80,render:function(e,t){return t.fileUrl?Object(H.jsx)("button",{onClick:function(){D(t)},children:"O"}):"X"}},{title:"\uc88b\uc544\uc694",dataIndex:"favCount",key:"favCount",align:"center",width:80},{title:"\uc218\uc815",key:"action",align:"center",width:140,render:function(e,t){return Object(H.jsxs)(be.b,{size:"middle",children:[Object(H.jsx)("button",{onClick:function(){U(t)},children:"\uc218\uc815"}),Object(H.jsx)("button",{onClick:function(){z(t)},children:"\uc0ad\uc81c"})]})}}],F=function(e){o(!0),d(e)},D=function(e){window.open(e.fileUrl)},U=function(e){x(!0),w(e.message),N(e.id)},P=function(){var e=Object(E.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(T.i)(Object(T.c)(G,"chats/".concat(S)),{message:g});case 3:C();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(E.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=7;break}return e.next=4,Object(T.b)(Object(T.c)(G,"chats/".concat(t.id)));case 4:if(""===t.fileUrl){e.next=7;break}return e.next=7,Object(K.a)(Object(K.c)(J,t.fileUrl));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(de.a,{rowKey:function(e){return e.id},columns:I,dataSource:t,bordered:!0,pagination:{position:["bottomCenter"],pageSize:3}}),h&&Object(H.jsx)($.a,{open:h,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsxs)(O.a,{component:"form",sx:a,autoComplete:"off",className:"mychattable-form",children:[Object(H.jsx)(W.a,{id:"outlined-multiline-static",label:"\ub0b4\uc6a9",multiline:!0,rows:4,type:"text",onChange:function(e){var t=e.target.value;w(t)},value:g,required:!0,inputProps:{maxLength:200},className:"mychattable-form-input"}),Object(H.jsx)("button",{onClick:P,children:"\uc218\uc815"})]})}),i&&Object(H.jsx)($.a,{open:i,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsx)(O.a,{sx:a,children:Object(H.jsx)(v.a,{id:"modal-modal-description",children:b})})})]})},Oe=function(e){var t=e.scdObj,a=e.style,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],u=[{title:"\uc2dc\uc791\uc77c",dataIndex:"start",key:"start",align:"center",width:200},{title:"\ub0b4\uc6a9",dataIndex:"title",key:"title",ellipsis:!0,align:"center",render:function(e){return Object(H.jsx)("a",{onClick:function(){p(e)},children:e})}},{title:"\uc77c\uc815 \uc720\ud615",dataIndex:"color",key:"color",align:"center",width:120,render:function(e){return Object(H.jsx)("span",{style:{content:" ",color:e,backgroundColor:e,padding:"4px 12px",borderRadius:"30px"}})}}],p=function(e){o(!0);var t=e.split(" : ");t.splice(0,1),d(t.join(":"))};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(de.a,{rowKey:function(e){return e.id},columns:u,dataSource:t,bordered:!0,pagination:{position:["bottomCenter"],pageSize:3}}),i&&Object(H.jsx)($.a,{open:i,onClose:function(){d(""),o(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsx)(O.a,{sx:a,children:Object(H.jsx)(v.a,{id:"modal-modal-description",children:b})})})]})},pe=a(462),he={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,p:4},xe=function(e){var t=e.userObj,a=e.refreshUser,c=e.containerStyle,r=Object(n.useState)(t.displayName),i=Object(s.a)(r,2),l=i[0],j=i[1],b=Object(n.useState)([]),d=Object(s.a)(b,2),u=d[0],O=d[1],p=Object(n.useState)([]),h=Object(s.a)(p,2),x=h[0],f=h[1];Object(n.useEffect)(Object(E.a)(_.a.mark((function e(){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ae.i)(Object(ae.b)(G,"chats"),Object(ae.k)("creatorId","==",t.uid),Object(ae.h)("createdAt","desc")),n=Object(ae.i)(Object(ae.b)(G,"scheduler"),Object(ae.k)("creatorId","==",t.uid),Object(ae.h)("createdAt","desc")),e.next=4,Object(ae.g)(a,(function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));O(t)}));case 4:return e.next=6,Object(ae.g)(n,(function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));f(t)}));case 6:case"end":return e.stop()}}),e)}))),[]);var m=function(){var e=Object(E.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.displayName===l){e.next=6;break}return e.next=4,Object(L.g)(V.currentUser,{displayName:l});case 4:a(),alert("\ub2c9\ub124\uc784\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{style:c,children:[Object(H.jsx)("h2",{children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"}),Object(H.jsxs)(pe.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:m,className:"profile-nickname",children:[Object(H.jsx)(W.a,{hiddenLabel:!0,id:"filled-hidden-label-normal",type:"text",defaultValue:l,variant:"filled",onChange:function(e){var t=e.target.value;j(t)},inputProps:{maxLength:20}}),Object(H.jsx)(X.a,{type:"submit",variant:"contained",children:"\ubcc0\uacbd"})]}),Object(H.jsxs)("div",{className:"profile-myChat",children:[Object(H.jsx)("h2",{children:"\ub098\uc758 \ucc44\ud305"}),Object(H.jsx)("div",{children:Object(H.jsx)(ue,{chatObj:u,style:he})})]}),Object(H.jsxs)("div",{className:"profile-mySchedule",children:[Object(H.jsx)("h2",{children:"\ub098\uc758 \uc77c\uc815"}),Object(H.jsx)("div",{children:Object(H.jsx)(Oe,{scdObj:x,style:he})})]})]})},fe=a(90),me=a(215),ve=a.n(me),ge=a(170),we=a.n(ge),ye=a(256),ke=a.n(ye),Se=function(e){var t=e.chatObj,a=e.isUser,c=e.userObj,r=Object(n.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(t.message),b=Object(s.a)(j,2),d=b[0],u=b[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),x=h[0],f=h[1],m=Object(n.useState)(!1),v=Object(s.a)(m,2),g=v[0],w=v[1],y=function(){var e=Object(E.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=7;break}return e.next=4,Object(ae.c)(Object(ae.d)(G,"chats/".concat(t.id)));case 4:if(""===t.fileUrl){e.next=7;break}return e.next=7,Object(fe.a)(Object(fe.d)(J,t.fileUrl));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return l((function(e){return!e}))},S=function(){var e=Object(E.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Object(ae.j)(Object(ae.d)(G,"chats/".concat(t.id)),{message:d});case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(_.a.mark((function e(){var a,n,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user_id:c.uid,cont_id:t.id},n=Object(ae.i)(Object(ae.b)(G,"fav_whether"),Object(ae.k)("user_id","==",c.uid),Object(ae.k)("cont_id","==",t.id)),e.next=4,Object(ae.e)(n);case 4:if((r=e.sent).docs.map((function(e){i=e.id})),1!==r.size){e.next=15;break}return e.next=9,Object(ae.c)(Object(ae.d)(G,"fav_whether/".concat(i)));case 9:return e.next=11,Object(ae.j)(Object(ae.d)(G,"chats/".concat(t.id)),{favCount:t.favCount-1});case 11:f(!1),w(!1),e.next=21;break;case 15:if(0!==r.size){e.next=21;break}return e.next=18,Object(ae.a)(Object(ae.b)(G,"fav_whether"),a);case 18:return e.next=20,Object(ae.j)(Object(ae.d)(G,"chats/".concat(t.id)),{favCount:t.favCount+1});case 20:f(!0);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)("div",{className:a?"chat-item chat-my":"chat-item",children:o?Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(O.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:S,className:"chat-edit-form",children:[Object(H.jsx)(W.a,{id:"outlined-multiline-static",label:"edit message",multiline:!0,rows:3,onChange:function(e){var t=e.target.value;u(t)},value:d,required:!0,inputProps:{maxLength:200}}),Object(H.jsxs)("div",{className:"chat-edit-form-button",children:[Object(H.jsx)(X.a,{type:"submit",variant:"contained",children:"\uc218\uc815"}),Object(H.jsx)(X.a,{onClick:k,variant:"contained",children:"\ucde8\uc18c"})]})]})}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("h4",{className:"chat-userName",children:t.user_nickName}),t.fileUrl&&Object(H.jsx)("img",{src:t.fileUrl,alt:"",className:"chat-img"}),Object(H.jsx)("h4",{children:t.message}),Object(H.jsxs)("div",{className:"chat-info",children:[Object(H.jsx)("span",{children:new Date(t.createdAt).toLocaleDateString()}),Object(H.jsxs)("div",{className:"chat-fav",children:[x||g?Object(H.jsx)(ve.a,{style:{color:"red"},onClick:N,className:"chat-favIcon"}):Object(H.jsx)(ve.a,{style:{color:"gray"},onClick:N,className:"chat-favIcon"}),Object(H.jsx)("span",{children:t.favCount})]})]}),a&&Object(H.jsxs)("div",{className:"chat-edit-button",children:[Object(H.jsx)(we.a,{onClick:y,className:"chat-delete"}),Object(H.jsx)(ke.a,{onClick:k,className:"chat-edit"})]})]})})},Ne=a(469),Ce=a(257),Ie=a.n(Ce),Fe=function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),j=l[0],b=l[1],d=Object(n.useState)(0),u=Object(s.a)(d,2),p=u[0],h=(u[1],function(){var e=Object(E.a)(_.a.mark((function e(a){var n,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n="",""===j){e.next=10;break}return c=Object(fe.d)(J,"".concat(t.uid,"/").concat(Object(Ne.a)())),e.next=6,Object(fe.e)(c,j,"data_url");case 6:return e.sent,e.next=9,Object(fe.b)(c);case 9:n=e.sent;case 10:if(s={message:r,createdAt:Date.now(),creatorId:t.uid,favCount:p,fileUrl:n,user_nickName:t.displayName},""===r&&""===j&&alert("\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"),!j&&!r){e.next=18;break}return e.next=15,Object(ae.a)(Object(ae.b)(G,"chats"),s);case 15:i(""),b(""),x.current.value=null;case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(n.useRef)();return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(O.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},autoComplete:"off",onSubmit:h,className:"chat-Form",children:[Object(H.jsx)("label",{className:"chatForm-fileSet",htmlFor:"chatForm-file",children:Object(H.jsx)(Ie.a,{fontSize:"large"})}),Object(H.jsx)("input",{id:"chatForm-file",type:"file",accept:"image/*",ref:x,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=e.currentTarget.result;b(t)},a.readAsDataURL(t)}}),j&&Object(H.jsxs)("div",{className:"chatForm-img",children:[Object(H.jsx)("img",{src:j,alt:""}),Object(H.jsx)(we.a,{onClick:function(){b(""),x.current.value=null},fontSize:"large"})]}),Object(H.jsx)(W.a,{id:"outlined-multiline-static",label:"send message",multiline:!0,rows:3,value:r,onChange:function(e){var t=e.target.value;i(t)},type:"text",inputProps:{maxLength:200},className:"chatForm-field"}),Object(H.jsx)(X.a,{variant:"outlined",disableElevation:!0,type:"submit",className:"chatForm-submit",children:"\uc804\uc1a1"})]})})},De=function(e){var t=e.userObj,a=e.containerStyle,c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],l=r[1],j=Object(n.useRef)();return Object(n.useEffect)(Object(E.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(ae.i)(Object(ae.b)(G,"chats"),Object(ae.h)("createdAt","asc")),Object(ae.g)(t,(function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));l(t)}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){j.current.scrollIntoView()}),[i]),Object(H.jsxs)("div",{className:"chat-wrap",style:a,children:[Object(H.jsxs)("div",{className:"chat-item-wrap",children:[i.map((function(e){return Object(H.jsx)(Se,{chatObj:e,isUser:e.creatorId===t.uid,userObj:t},e.id)})),Object(H.jsx)("div",{ref:j})]}),Object(H.jsx)("hr",{}),Object(H.jsx)(Fe,{userObj:t})]})},Ue=function(e){var t=e.userObj,a=e.noticeStyle,c=e.admin,r=Object(n.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],j=function(){return l(!1)},b=Object(n.useState)(""),d=Object(s.a)(b,2),u=d[0],p=d[1],h=Object(n.useState)(""),x=Object(s.a)(h,2),f=x[0],m=x[1],v=function(e){var t=e.target,a=t.name,n=t.value;"title"===a?p(n):"desc"===a&&m(n)},g=function(){var e=Object(E.a)(_.a.mark((function e(a){var n,c,r,i,s,o,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=new Date,c=n.getFullYear(),r=("0"+(1+n.getMonth())).slice(-2),i=("0"+n.getDate()).slice(-2),s=("0"+n.getHours()).slice(-2),o=("0"+n.getMinutes()).slice(-2),l={no:c+r+i+s+o,title:u,desc:f,createdAt:Date.now(),creatorId:t.uid,creatorNickName:t.displayName,viewCount:0},e.next=10,Object(ae.a)(Object(ae.b)(G,"notices"),l);case 10:j();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{children:[c&&Object(H.jsx)("button",{onClick:function(){return l(!0)},children:"\ud074\ub9ad"}),Object(H.jsx)($.a,{open:o,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsxs)(O.a,{component:"form",onSubmit:g,sx:a,children:[Object(H.jsx)(W.a,{id:"standard-basic",label:"\uc81c\ubaa9",variant:"standard",type:"text",name:"title",onChange:v,fullWidth:!0,inputProps:{maxLength:100}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)(W.a,{id:"outlined-multiline-static",label:"\ub0b4\uc6a9",multiline:!0,rows:4,type:"text",name:"desc",onChange:v,fullWidth:!0,inputProps:{maxLength:500}}),Object(H.jsx)("br",{}),Object(H.jsx)("br",{}),Object(H.jsx)("input",{type:"submit",value:"\uac8c\uc2dc"})]})})]})},Pe=(a(407),function(e){var t=e.noticeObj,a=e.noticeStyle,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],u=Object(n.useState)(""),p=Object(s.a)(u,2),h=p[0],x=p[1],f=[{title:"No",dataIndex:"no",key:"no",width:150,align:"center"},{title:"\uc81c\ubaa9",dataIndex:"title",key:"title",render:function(e){return Object(H.jsx)("a",{children:e})},align:"center",ellipsis:!0},{title:"\uc870\ud68c\uc218",dataIndex:"viewCount",key:"viewCount",align:"center",width:80},{title:"\uc791\uc131\uc790",dataIndex:"creatorNickName",key:"creatorNickName",align:"center",width:200}],m=function(){var e=Object(E.a)(_.a.mark((function e(t,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t.title),x(t.desc),o(!0),e.next=5,Object(T.i)(Object(T.c)(G,"notices/".concat(t.id)),{viewCount:t.viewCount+1});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{children:[Object(H.jsx)(de.a,{rowKey:function(e){return e.id},columns:f,dataSource:t,bordered:!0,pagination:{position:["bottomCenter"]},onRow:function(e,t){return{onClick:function(){m(e,t)}}}}),i&&Object(H.jsx)(H.Fragment,{children:Object(H.jsx)($.a,{open:i,onClose:function(){return o(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsxs)(O.a,{sx:a,children:[Object(H.jsx)(v.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:b}),Object(H.jsx)("hr",{}),Object(H.jsx)(v.a,{id:"modal-modal-description",sx:{mt:2},children:h})]})})})]})}),ze={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},Ae=function(e){var t=e.userObj,a=e.containerStyle,c=Object(n.useState)([]),r=Object(s.a)(c,2),i=r[0],l=r[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),d=b[0],u=b[1];return Object(n.useEffect)(Object(E.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(T.h)(Object(T.a)(G,"notices"),Object(T.g)("createdAt","desc")),Object(T.f)(t,(function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));l(t)})),e.next=4,Object(T.d)(Object(T.a)(G,"admin"));case 4:e.sent.forEach((function(e){u(e.data().adminId)}));case 6:case"end":return e.stop()}}),e)}))),[]),Object(H.jsxs)("div",{style:a,children:[Object(H.jsx)("h1",{children:"\uacf5\uc9c0\uc0ac\ud56d"}),Object(H.jsx)(Ue,{userObj:t,noticeStyle:ze,admin:t.uid===d}),Object(H.jsx)("div",{children:Object(H.jsx)(Pe,{noticeObj:i,noticeStyle:ze})})]})},_e=200,Ee=function(e){return{width:_e,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},Le=function(e){return Object(l.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},Re=Object(d.a)("div")((function(e){var t=e.theme;return Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),Me=Object(d.a)(h.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(o.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{marginLeft:_e,width:"calc(100% - ".concat(_e,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),Te=Object(d.a)(p.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(o.a)(Object(o.a)({width:_e,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},a&&Object(o.a)(Object(o.a)({},Ee(t)),{},{"& .MuiDrawer-paper":Ee(t)})),!a&&Object(o.a)(Object(o.a)({},Le(t)),{},{"& .MuiDrawer-paper":Le(t)}))})),Ke={padding:"30px",marginTop:"70px"},Ve=function(e){var t=e.userObj,a=e.refreshUser,c=e.isLoggedIn,r=Object(u.a)(),i=Object(n.useState)(!0),l=Object(s.a)(i,2),d=l[0],p=l[1],h=Object(n.useState)(["","chatting","notice","profile"]),y=Object(s.a)(h,2),S=y[0],C=(y[1],Object(n.useState)([Object(H.jsx)(z.c,{size:39}),Object(H.jsx)(z.a,{size:39}),Object(H.jsx)(z.b,{size:39}),Object(H.jsx)(z.d,{size:39})])),A=Object(s.a)(C,2),_=A[0];A[1];return Object(H.jsx)(j.a,{children:Object(H.jsxs)(O.a,{sx:{display:"flex"},children:[c&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(m.a,{}),Object(H.jsx)(Me,{position:"fixed",open:d,children:Object(H.jsxs)(x.a,{children:[Object(H.jsx)(w.a,{color:"inherit","aria-label":"open drawer",onClick:function(){p(!0)},edge:"start",sx:Object(o.a)({marginRight:"36px"},d&&{display:"none"}),children:Object(H.jsx)(k.a,{})}),Object(H.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",children:"PKS of Portfolio"})]})}),Object(H.jsxs)(Te,{variant:"permanent",open:d,children:[Object(H.jsx)(Re,{children:Object(H.jsx)(w.a,{onClick:function(){p(!1)},children:"rtl"===r.direction?Object(H.jsx)(I.a,{}):Object(H.jsx)(N.a,{})})}),Object(H.jsx)(g.a,{}),Object(H.jsx)(f.a,{children:["Home","Chatting","Notice","Profile"].map((function(e,t){return Object(H.jsx)(j.b,{to:S[t],children:Object(H.jsxs)(F.a,{button:!0,style:{marginBottom:"10px",marginTop:"10px"},children:[Object(H.jsx)(D.a,{children:_[t]}),Object(H.jsx)(U.a,{primary:e,style:{color:"#616161"}})]},e)},t)}))}),Object(H.jsx)(j.b,{to:"/",className:"logOut-button",children:Object(H.jsx)(P.a,{onClick:function(){V.signOut()},size:30})})]})]}),Object(H.jsx)(O.a,{component:"main",sx:{flexGrow:1},children:Object(H.jsx)("div",{className:"container",children:Object(H.jsx)(b.c,{children:c?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(b.a,{exact:!0,path:"/",element:Object(H.jsx)(je,{userObj:t,containerStyle:Ke})}),Object(H.jsx)(b.a,{exact:!0,path:"/profile",element:Object(H.jsx)(xe,{userObj:t,refreshUser:a,containerStyle:Ke})}),Object(H.jsx)(b.a,{exact:!0,path:"/chatting",element:Object(H.jsx)(De,{userObj:t,containerStyle:Ke})}),Object(H.jsx)(b.a,{exact:!0,path:"/notice",element:Object(H.jsx)(Ae,{userObj:t,containerStyle:Ke})})]}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(b.a,{exact:!0,path:"/",element:Object(H.jsx)(te,{})})})})})})]})})};var qe=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){V.onAuthStateChanged((function(e){e?(l({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return Object(L.g)(V.currentUser,{displayName:e.displayName})}}),null==e.displayName&&l({displayName:"\uc2e0\uaddc \uac00\uc785\uc790",uid:e.uid,updateProfile:function(t){return Object(L.g)(V.currentUser,{displayName:e.displayName})}})):l(null),c(!0)}))}),[]),Object(H.jsx)(H.Fragment,{children:a?Object(H.jsx)(Ve,{refreshUser:function(){var e=V.currentUser;l({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return Object(L.g)(e,{displayName:e.displayName})}})},isLoggedIn:Boolean(o),userObj:o}):"init..."})};a(408);i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(qe,{})}),document.getElementById("root"))}},[[409,1,2]]]);
//# sourceMappingURL=main.1802356d.chunk.js.map